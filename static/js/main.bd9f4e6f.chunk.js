(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e){e.exports={basename:{"luca-borrione.github.io":"reactnd-project2-wouldyourather"}}},199:function(e,t,a){e.exports=a(355)},353:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(59),i=a.n(o),c=a(56),u=a(15),l=a(30),s=a(26),d=a(32),m=a(31),p=a(33),h=a(35),b=a(380),v=a(382),f=a(359),E=a(19),g=a(165);function O(){var e=g.basename||{};return e[window.location.hostname]?"/".concat(e[window.location.hostname],"/"):"/"}function y(e){var t=O();return-1===e.indexOf(t)?t+e.replace(/^\/+/g,""):e}var j=function(e){if("string"===typeof e)return e;throw new TypeError("unexpected type: ".concat(typeof e," - expected string"))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!==typeof e)throw new TypeError("unexpected type: ".concat(typeof e," - expected number"));if(!t&&isNaN(e))throw new TypeError("number is not a number");return e},S=function(e){if(e&&function(e){return Object(E.isImmutable)(e)&&E.Map.isMap(e)}(e))return e;throw new TypeError("unexpected type: ".concat(typeof e," - expected map"))},w=function(e){if(e&&function(e){return Object(E.isImmutable)(e)&&E.List.isList(e)}(e))return e;throw new TypeError("unexpected type: ".concat(typeof e," - expected list"))},x=function(e){return j(e.get("authedUserId"))},I=a(188),U=a(377),q=function(e){var t=e.component,a=e.authedUserId,n=Object(I.a)(e,["component","authedUserId"]);return r.a.createElement(f.a,Object.assign({},n,{render:function(e){return""!==a?r.a.createElement(t,e):r.a.createElement(U.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};q.defaultProps={authedUserId:""};var _=q,R=Object(u.connect)(function(e){return{authedUserId:x(e)}})(_),N=function(e){return function(t){var a=Object.entries(t).reduce(function(e,t){return e[t[0]]=E.Iterable.isIterable(t[1])?t[1].toJS():t[1],e},{});return r.a.createElement(e,a)}},k=function(e){return{answers:S(e.get("answers")),avatarURL:j(e.get("avatarURL")),id:j(e.get("id")),name:j(e.get("name")),questions:w(e.get("questions"))}},C=function(e){return S(e.get("users"))},A=function(e,t){var a=k(e).answers.count()+k(e).questions.count();return k(t).answers.count()+k(t).questions.count()-a},L=function(e){return C(e).toList()},z=function(e,t){return C(e).get(t)},D=function(e){return C(e).sort(A).toList().map(function(e){var t=k(e);return Object(E.Map)({answered:t.answers.count(),asked:t.questions.count(),avatarURL:t.avatarURL,id:t.id,name:t.name})})},P="authedUserId/LOGIN",B="authedUserId/LOGOUT",Q=function(){return{type:B}},Y=a(16),M=a(212),V=a(358),W=a(372),K=a(356),J=a(367),G=a(376),H="teal",F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={selectedUserId:""},a.onSelect=function(e,t){var n=t.value;a.setState({selectedUserId:n})},a.onSubmit=function(e){var t=a.props.login,n=a.state.selectedUserId;e.preventDefault(),t(n)},a.formatUsers=function(e){return e.map(function(e){return{key:e.id,value:e.id,text:e.name,image:{src:y(e.avatarURL),avatar:!0}}})},a.onSelect=a.onSelect.bind(Object(Y.a)(Object(Y.a)(a))),a.onSubmit=a.onSubmit.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserId,a=e.location,n=e.users,o=this.state.selectedUserId,i=(a&&a.state?a.state:{from:{pathname:"/"}}).from,c=H;return t?r.a.createElement(U.a,{to:i}):r.a.createElement(M.a,{id:"login-page",verticalAlign:"middle",textAlign:"center"},r.a.createElement(M.a.Column,null,r.a.createElement(V.a,{attached:"top",className:"title",secondary:!0},r.a.createElement("h3",null,"Welcome to the Would You Rather App!"),r.a.createElement("p",null,"Please sign in to continue")),r.a.createElement(V.a,{attached:!0,className:"content"},r.a.createElement(W.a,{size:"large",onSubmit:this.onSubmit},r.a.createElement(K.a,{centered:!0,size:"small",src:y("/images/react-redux.jpg")}),r.a.createElement("h3",null,r.a.createElement("p",null,"Sign in")),r.a.createElement(J.a,{fluid:!0,selection:!0,options:this.formatUsers(n),placeholder:"Select User",loading:0===n.length,onChange:this.onSelect}),r.a.createElement(G.a,{color:c,fluid:!0,size:"large",disabled:""===o},"Login")))))}}]),t}(n.Component);F.defaultProps={authedUserId:"",location:void 0};var X=F,$=Object(u.connect)(function(e){return{authedUserId:x(e),users:L(e)}},function(e){return{login:function(t){return e({type:P,payload:{id:t}})}}})(N(X)),Z=function(e){return{text:j(e.get("text")),votes:w(e.get("votes"))}},ee=function(e){return{author:j(e.get("author")),id:j(e.get("id")),optionOne:S(e.get("optionOne")),optionTwo:S(e.get("optionTwo")),timestamp:T(e.get("timestamp"))}},te=function(e){return S(e.get("questions"))},ae=function(e,t){return ee(t).timestamp-ee(e).timestamp},ne=function(e,t){var a=ee(e),n=a.optionOne,r=a.optionTwo;return Z(n).votes.includes(t)||Z(r).votes.includes(t)},re=function(e){var t=x(e);return te(e).filter(function(e){return ne(e,t)}).sort(ae).toList()},oe=function(e){var t=x(e);return te(e).filter(function(e){return!ne(e,t)}).sort(ae).toList()},ie=a(381),ce=a(383),ue=a(378),le=a(369),se=a(357),de=function(e){var t=e.avatarURL,a=e.logout,n=e.userName;return r.a.createElement(se.a.Item,{position:"right"},r.a.createElement(ce.a,ce.a.onlyMobile,r.a.createElement(K.a,{avatar:!0,src:y(t),spaced:!0}),n),r.a.createElement(ce.a,{minWidth:"768"},r.a.createElement("span",null,"Hello, ",n,r.a.createElement(K.a,{avatar:!0,src:y(t),spaced:!0}),r.a.createElement("span",{onClick:a,onKeyPress:a,role:"button",tabIndex:"0",style:{cursor:"pointer"}},"Logout"))))},me=Object(u.connect)(function(e){var t=x(e),a=S(z(e,t)),n=k(a);return{avatarURL:n.avatarURL,name:n.name}},function(e){return{logout:function(){return e(Q())}}})(de),pe=a(368),he=function(e){var t=e.logout;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a.Item,{as:pe.a,exact:!0,to:"/"},"Home"),r.a.createElement(se.a.Item,{as:pe.a,to:"/add"},"New Question"),r.a.createElement(se.a.Item,{as:pe.a,to:"/leaderboard"},"Leaderboard"),r.a.createElement(ce.a,ce.a.onlyMobile,r.a.createElement(se.a.Item,{as:"a",onClick:t},"Sign out")))},be=Object(u.connect)(null,function(e){return{logout:function(){return e(Q())}}})(he),ve=a(163),fe=function(e){var t=e.toggle;return r.a.createElement(se.a.Item,{onClick:t},r.a.createElement(ve.a,{name:"sidebar",size:"large"}))},Ee=function(e){var t=e.authedUserId,a=e.toggleSidebar;return r.a.createElement(se.a,{id:"topbar",secondary:!0,size:"large",color:"teal",inverted:!0},r.a.createElement(le.a,null,a?r.a.createElement(fe,{toggle:a}):r.a.createElement(be,null),t&&r.a.createElement(me,null)))};Ee.defaultProps={authedUserId:"",toggleSidebar:void 0};var ge=Ee,Oe=Object(u.connect)(function(e){return{authedUserId:x(e)}})(ge),ye=function(e){var t=e.children,a=e.className,n=e.id,o=e.toggleSidebar,i=H;return r.a.createElement("div",null,r.a.createElement(Oe,{toggleSidebar:o}),r.a.createElement(ue.a,{as:"div",dividing:!0,color:i}),r.a.createElement(le.a,{id:n,className:a},t))};ye.defaultProps={className:void 0,id:void 0,toggleSidebar:void 0};var je=ye,Te=a(379),Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={sideBarVisible:!1},a.toggleSidebar=a.toggleSidebar.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"toggleSidebar",value:function(){this.setState(function(e){return{sideBarVisible:!e.sideBarVisible}})}},{key:"render",value:function(){var e=this.state.sideBarVisible,t=this.props.children;return r.a.createElement(Te.a.Pushable,null,r.a.createElement(Te.a,{as:se.a,animation:"overlay",width:"thin",visible:e,vertical:!0,inverted:!0},r.a.createElement(be,null)),r.a.createElement(Te.a.Pusher,{id:"sidebar",dimmed:e,onClick:e?this.toggleSidebar:null},r.a.createElement(je,Object.assign({toggleSidebar:this.toggleSidebar},this.props),t)))}}]),t}(n.Component);Se.defaultProps={className:void 0,id:void 0};var we=Se,xe=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(ce.a,ce.a.onlyComputer,r.a.createElement(je,e,t)),r.a.createElement(ce.a,ce.a.onlyTablet,r.a.createElement(je,e,t)),r.a.createElement(ce.a,ce.a.onlyMobile,r.a.createElement(we,e,t)))},Ie=a(375),Ue=a(343),qe=a(246),_e=a(110),Re=function(e){var t=e.avatarURL,a=e.children,n=e.className,o=e.header,i=e.id;return r.a.createElement("div",{id:i,className:"".concat(n||""," card").trim()},r.a.createElement(ue.a,{as:"h3",block:!0,attached:"top"},r.a.createElement("span",null,o,r.a.createElement(K.a,{className:"small-avatar",avatar:!0,src:y(t),size:"mini",centered:!0,verticalAlign:"middle"}))),r.a.createElement(V.a,{attached:!0},r.a.createElement(M.a,{columns:2,divided:!0},r.a.createElement(qe.a,null,r.a.createElement(_e.a,{className:"avatar-container"},r.a.createElement(K.a,{className:"big-avatar",avatar:!0,src:y(t),size:"small",centered:!0,verticalAlign:"middle"})),r.a.createElement(_e.a,{className:"content-container"},r.a.createElement(le.a,null,a))))))};Re.defaultProps={className:"",id:void 0};var Ne=Re,ke=function(e){var t=e.author,a=e.question,n=H,o="".concat(t.name," asks"),i="".concat(a.optionOne.text," or..");return r.a.createElement(Ne,{avatarURL:t.avatarURL,className:"summary-card",header:o},r.a.createElement(ue.a,{as:"h3"},"Would you rather"),r.a.createElement("span",null,i),r.a.createElement(G.a,{as:Ue.a,basic:!0,color:n,fluid:!0,to:"/question/".concat(a.id)},"View Poll"))},Ce=Object(u.connect)(function(e,t){var a=t.question;return{author:S(z(e,a.author))}})(N(ke)),Ae=function(e){var t=e.altText,a=e.questions;return 0===a.length?r.a.createElement(Ie.a,null,r.a.createElement("p",null,t)):r.a.createElement(M.a,{stackable:!0,doubling:!0,columns:3},a.map(function(e){return r.a.createElement(M.a.Column,{key:e.id},r.a.createElement(Ce,{question:e}))}))};Ae.defaultProps={altText:"No questions available"};var Le=Ae,ze=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getPanes",value:function(){var e=this.props,t=e.answeredQuestions,a=e.unansweredQuestions;return[{menuItem:"Unanswered Questions",render:function(){return r.a.createElement(ie.a.Pane,null,r.a.createElement(Le,{questions:a,altText:"You answered all the questions"}))}},{menuItem:"Answered Questions",render:function(){return r.a.createElement(ie.a.Pane,null,r.a.createElement(Le,{questions:t,altText:"You have not answered a question yet"}))}}]}},{key:"render",value:function(){var e=H;return r.a.createElement(xe,{id:"home-page"},r.a.createElement(ie.a,{menu:{color:e,align:"center",attached:!0,tabular:!0},panes:this.getPanes()}))}}]),t}(n.Component),De=Object(u.connect)(function(e){return{answeredQuestions:re(e),unansweredQuestions:oe(e)}})(N(ze)),Pe=function(e){return j(e.get("status"))},Be=a(187),Qe=a(25),Ye=a(36),Me={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"/images/sarahedo.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"/images/tylermcginnis.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"/images/johndoe.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},Ve={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function We(e){return new Promise(function(t,a){var n=e.author,r=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout(function(){Ve=Object(Ye.a)({},Ve,Object(Qe.a)({},r.id,r)),Me=Object(Ye.a)({},Me,Object(Qe.a)({},n,Object(Ye.a)({},Me[n],{questions:Me[n].questions.concat([r.id])}))),t(r)},1e3)})}var Ke=function(){return Promise.all([new Promise(function(e,t){setTimeout(function(){return e(Object(Ye.a)({},Ve))},1e3)}),new Promise(function(e,t){setTimeout(function(){return e(Object(Ye.a)({},Me))},1e3)})]).then(function(e){var t=Object(Be.a)(e,2);return{questions:t[0],users:t[1]}})},Je=function(e,t,a){return We({author:e,optionOneText:t,optionTwoText:a})},Ge=function(e,t,a){return function(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise(function(e,r){setTimeout(function(){Me=Object(Ye.a)({},Me,Object(Qe.a)({},t,Object(Ye.a)({},Me[t],{answers:Object(Ye.a)({},Me[t].answers,Object(Qe.a)({},a,n))}))),Ve=Object(Ye.a)({},Ve,Object(Qe.a)({},a,Object(Ye.a)({},Ve[a],Object(Qe.a)({},n,Object(Ye.a)({},Ve[a][n],{votes:Ve[a][n].votes.concat([t])}))))),e()},500)})}({authedUser:e,qid:t,answer:a})},He=function(e,t,a){return{type:"users/ADD_ANSWER_TO_USER",payload:{authedUserId:e,questionId:t,optionKey:a}}},Fe=function(e,t){return{type:"users/ADD_QUESTION_TO_USER",payload:{authedUserId:e,questionId:t}}},Xe=function(e){return{type:"users/INIT_USERS",payload:{users:e}}},$e=function(e){return{type:"questions/ADD_QUESTION",payload:{question:e}}},Ze=function(e,t,a){return{type:"questions/ADD_USER_TO_QUESTION_VOTES",payload:{authedUserId:e,questionId:t,optionKey:a}}},et=function(e){return{type:"questions/INIT_QUESTIONS",payload:{questions:e}}},tt=function(){return{type:"status/SET_BUSY_STATE"}},at=function(){return{type:"status/SET_SUCCESS_STATE"}},nt=function(){return{type:"status/SET_READY_STATE"}};var rt=function(e,t,a){return function(n){return n(Object(h.showLoading)()),n(tt()),Ge(e,t,a).then(function(){n(Ze(e,t,a)),n(He(e,t,a)),n(Object(h.hideLoading)()),n(nt())})}},ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={optionKey:""},a.handleChange=function(e,t){var n=t.value;a.setState({optionKey:n})},a.handleSubmit=function(){var e=a.props,t=e.authedUserId,n=e.question,r=e.setVote,o=a.state.optionKey;r(t,n.id,o)},a.handleChange=a.handleChange.bind(Object(Y.a)(Object(Y.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.author,a=e.busy,n=e.question,o=this.state.optionKey,i=H,c="".concat(t.name," asks");return r.a.createElement(Ne,{id:"poll-card",header:c,avatarURL:t.avatarURL},r.a.createElement(ue.a,{as:"h3"},"Would you rather..."),r.a.createElement(W.a,{onSubmit:this.handleSubmit},r.a.createElement(W.a.Radio,{label:n.optionOne.text,name:"radioGroup",value:"optionOne",checked:"optionOne"===o,onChange:this.handleChange,disabled:a}),r.a.createElement(W.a.Radio,{label:n.optionTwo.text,name:"radioGroup",value:"optionTwo",checked:"optionTwo"===o,onChange:this.handleChange,disabled:a}),r.a.createElement(G.a,{color:i,disabled:a||""===o,fluid:!0,loading:a,type:"submit"},"Submit")))}}]),t}(n.Component),it=Object(u.connect)(function(e,t){var a=t.question;return{authedUserId:x(e),author:S(z(e,a.author)),busy:"BUSY_STATE"===Pe(e)}},function(e){return{setVote:function(t,a,n){return e(rt(t,a,n))}}})(N(ot)),ct=a(162),ut=a(370),lt=function(e){var t,a=e.count,n=e.overall,o=e.text,i=e.voted;i&&(t=H);var c=0===a?"hidden":"";return r.a.createElement(Ie.a,{color:t},i&&r.a.createElement(ct.a,{circular:!0,color:"yellow"},r.a.createElement("span",null,"Your",r.a.createElement("br",null),"Vote")),r.a.createElement(Ie.a.Header,null,o),r.a.createElement(Ie.a.Content,null,r.a.createElement(ut.a,{className:c,color:H,precision:0,progress:!0,total:n,value:a}),r.a.createElement("span",{className:""},r.a.createElement("b",null,"".concat(a," of ").concat(n," votes")))))},st=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getResult",value:function(e){var t=this.props,a=t.authedUserId,n=t.question;return{count:n[e].votes.length,key:e,overall:this.countAllVotes(),text:"Would you rather ".concat(n[e].text,"?"),voted:n[e].votes.includes(a)}}},{key:"getResults",value:function(){var e=this;return["optionOne","optionTwo"].map(function(t){return e.getResult(t)})}},{key:"countAllVotes",value:function(){var e=this.props.question;return e.optionOne.votes.length+e.optionTwo.votes.length}},{key:"render",value:function(){var e=this.props.author,t="".concat(e.name," asks"),a=this.getResults();return r.a.createElement(Ne,{avatarURL:e.avatarURL,header:t,id:"results-card"},r.a.createElement(ue.a,{as:"h3"},"Results:"),a.map(function(e){return r.a.createElement(lt,{count:e.count,key:e.key,overall:e.overall,text:e.text,voted:e.voted})}))}}]),t}(n.Component),dt=Object(u.connect)(function(e,t){var a=t.question;return{authedUserId:x(e),author:S(z(e,a.author))}})(N(st)),mt=function(){return r.a.createElement(xe,{id:"notfound-page"},r.a.createElement("div",{className:"notfound-page-wrap"},r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"Not Found")))},pt=function(e){var t=e.question,a=e.isAnswered;return t?r.a.createElement(xe,{id:"poll-page"},a?r.a.createElement(dt,{question:t}):r.a.createElement(it,{question:t})):r.a.createElement(mt,null)};pt.defaultProps={question:void 0};var ht=pt,bt=Object(u.connect)(function(e,t){var a=t.match,n=function(e,t){return te(e).get(t)}(e,j(a.params.questionId)),r=x(e);return{question:n,isAnswered:!!n&&ne(n,r)}})(N(ht));var vt=function(e,t,a){return function(n){return n(Object(h.showLoading)()),n(tt()),Je(e,t,a).then(function(t){n($e(t)),n(Fe(e,t.id)),n(Object(h.hideLoading)()),n(at())})}},ft=a(371),Et=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={optionOneText:"",optionTwoText:""},a.handleBlur=function(e){var t=e.currentTarget,n=t.id,r=t.value;(0,a.constructor.isEmpty)(r)?a.setState(Object(Qe.a)({},n,"")):a.setState(Object(Qe.a)({},n,r.trim().replace(/\s+/g," ")))},a.handleChange=function(e,t){var n=t.id,r=t.value;a.setState(Object(Qe.a)({},n,r))},a.handleSubmit=function(){var e=a.props,t=e.authedUserId,n=e.setQuestion,r=a.state;n(t,r.optionOneText,r.optionTwoText)},a.handleBlur=a.handleBlur.bind(Object(Y.a)(Object(Y.a)(a))),a.handleChange=a.handleChange.bind(Object(Y.a)(Object(Y.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,null,[{key:"isEmpty",value:function(e){return""===e||""===e.trim()}}]),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.setReadyState)()}},{key:"render",value:function(){var e=this.props,t=e.busy,a=e.success,n=this.state,o=n.optionOneText,i=n.optionTwoText,c=this.constructor.isEmpty,u=H;return a?r.a.createElement(U.a,{to:"/"}):r.a.createElement(xe,{id:"add-question-page"},r.a.createElement(V.a,{attached:!0,secondary:!0,size:"huge",textAlign:"center"},r.a.createElement("b",null,"Create New Question")),r.a.createElement(V.a,{attached:!0},r.a.createElement(W.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Would you rather..."),r.a.createElement(W.a.Input,{className:"optionText",disabled:t,id:"optionOneText",onBlur:this.handleBlur,onChange:this.handleChange,placeholder:"Enter Option One Text Here",value:o}),r.a.createElement(ft.a,{horizontal:!0},"Or"),r.a.createElement(W.a.Input,{className:"optionText",disabled:t,id:"optionTwoText",onBlur:this.handleBlur,onChange:this.handleChange,placeholder:"Enter Option Two Text Here",value:i}),r.a.createElement(G.a,{color:u,disabled:t||c(o)||c(i),fluid:!0,loading:t,type:"submit"},"Submit"))))}}]),t}(n.Component),gt=Object(u.connect)(function(e){return{authedUserId:x(e),busy:"BUSY_STATE"===Pe(e),success:"SUCCESS_STATE"===Pe(e)}},function(e){return{setQuestion:function(t,a,n){return e(vt(t,a,n))},setReadyState:function(){return e(nt())}}})(Et),Ot=a(373),yt=function(e){var t,a=e.answered,n=e.asked,o=e.avatarURL,i=e.highlight,c=e.name,u=H;return i&&(t=H),r.a.createElement(V.a,{className:"leader-card",color:t},r.a.createElement(M.a,{columns:3,divided:!0},r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Column,{className:"avatar-container"},i&&r.a.createElement(ct.a,{as:"a",color:u,ribbon:!0},"You"),r.a.createElement(K.a,{className:"big-avatar",avatar:!0,src:y(o),size:"tiny",centered:!0,verticalAlign:"middle"})),r.a.createElement(M.a.Column,{className:"details-container"},r.a.createElement("p",{className:"leader-name"},r.a.createElement("b",null,c)),r.a.createElement(Ot.a,{basic:"very",unstackable:!0},r.a.createElement(Ot.a.Body,null,r.a.createElement(Ot.a.Row,null,r.a.createElement(Ot.a.Cell,null,"Answered"),r.a.createElement(Ot.a.Cell,null,a)),r.a.createElement(Ot.a.Row,null,r.a.createElement(Ot.a.Cell,null,"Asked"),r.a.createElement(Ot.a.Cell,null,n))))),r.a.createElement(M.a.Column,{className:"score-container"},r.a.createElement("div",null,r.a.createElement(ue.a,{as:"h5",block:!0,attached:"top",textAlign:"center"},"Score"),r.a.createElement(V.a,{attached:!0,textAlign:"center"},r.a.createElement(ct.a,{circular:!0,color:u,size:"big"},a+n)))))))};yt.defaultProps={highlight:!1};var jt=yt,Tt=function(e){var t=e.authedUserId,a=e.leaders;return r.a.createElement(xe,{id:"leaderboard-page"},r.a.createElement(M.a,{columns:1,doubling:!1,stackable:!1},a.map(function(e){return r.a.createElement(M.a.Column,{key:e.id},r.a.createElement(jt,{answered:e.answered,asked:e.asked,avatarURL:e.avatarURL,highlight:e.id===t,name:e.name}))})))},St=Object(u.connect)(function(e){return{authedUserId:x(e),leaders:D(e)}})(N(Tt)),wt=function(){return r.a.createElement(b.a,{basename:O()},r.a.createElement(v.a,null,r.a.createElement(f.a,{path:"/login",component:$}),r.a.createElement(R,{exact:!0,path:"/",component:De}),r.a.createElement(R,{path:"/question/:questionId",component:bt}),r.a.createElement(R,{path:"/add",component:gt}),r.a.createElement(R,{path:"/leaderboard",component:St}),r.a.createElement(R,{component:mt})))},xt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.loadInitialData;document.title="Would You Rather...?",e()}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement(n.Fragment,null,r.a.createElement(h.ImmutableLoadingBar,null),!0===e?null:r.a.createElement(wt,null))}}]),t}(n.Component);var It=function(){return function(e){return e(Object(h.showLoading)()),e(tt()),Ke().then(function(t){var a=t.questions,n=t.users;e(Xe(n)),e(et(a)),e(Object(h.hideLoading)()),e(nt())})}},Ut=Object(u.connect)(function(e){return{loading:"INIT_STATE"===Pe(e)}},function(e){return{loadInitialData:function(){return e(It())}}})(xt),qt=a(185);var _t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new E.Map,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"questions/ADD_QUESTION":var a=t.payload;if(a){var n=a.question,r=Object(E.fromJS)(n);return e.merge(Object(Qe.a)({},n.id,r))}throw new Error("unexpected empty payload");case"questions/ADD_USER_TO_QUESTION_VOTES":var o=t.payload;if(o){var i=o.authedUserId,c=o.questionId,u=o.optionKey;return e.mergeIn([c,u,"votes"],i)}throw new Error("unexpected empty payload");case"questions/INIT_QUESTIONS":var l=t.payload;if(l){var s=l.questions,d=Object(E.fromJS)(s);return e.merge(d)}throw new Error("unexpected empty payload");default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"INIT_STATE",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"status/SET_BUSY_STATE":return"BUSY_STATE";case"status/SET_ERROR_STATE":return"ERROR_STATE";case"status/SET_INIT_STATE":return"INIT_STATE";case"status/SET_SUCCESS_STATE":return"SUCCESS_STATE";case"status/SET_READY_STATE":return"READY_STATE";default:return e}},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new E.Map,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/ADD_ANSWER_TO_USER":var a=t.payload;if(a){var n=a.authedUserId,r=a.questionId,o=a.optionKey;return e.mergeIn([n,"answers"],Object(Qe.a)({},r,o))}throw new Error("unexpected empty payload");case"users/ADD_QUESTION_TO_USER":var i=t.payload;if(i){var c=i.authedUserId,u=i.questionId;return e.updateIn([c,"questions"],function(e){return e.push(u)})}throw new Error("unexpected empty payload");case"users/INIT_USERS":var l=t.payload;if(l){var s=l.users,d=Object(E.fromJS)(s);return e.merge(d)}throw new Error("unexpected empty payload");default:return e}},kt={authedUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var a=t.payload;return a?a.id:"";case B:return"";default:return e}},loadingBar:h.loadingBarReducer,questions:_t,status:Rt,users:Nt},Ct=Object(qt.combineReducers)(kt),At=a(186),Lt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c)(Object(c.a)(At.a)),zt=(a(350),a(353),Object(c.d)(Ct,Lt)),Dt=document.getElementById("root");Dt&&i.a.render(r.a.createElement(u.Provider,{store:zt},r.a.createElement(Ut,null)),Dt)}},[[199,2,1]]]);
//# sourceMappingURL=main.bd9f4e6f.chunk.js.map